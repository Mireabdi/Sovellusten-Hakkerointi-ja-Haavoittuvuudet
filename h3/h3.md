### Sovellusten Hakkerointi ja Haavoittuvaisuudet

## ICI012AS3A

## Abdirahman Mire

# H3 No strings attached

### Työympäristö:

Käyttöjärjestelmä: Windows 11 Pro 64-bit

CPU: Intel Core i7-12700KF - 4 cores in use

RAM: 6 GB DDR4

Disk: 80gb

Virtuaalikone: VMware, Kali Linux


## A ja B) Strings:

 Aloitin lataamalla ezbin-challenges.zip ja jatkoin komennoilla: 

`unzip ezbin-challenges.zip`

`cd downloads/`

`cd challenges`

`cd passtr`

![kuva1](/h3/kuvat/kuva1.png)

`strings passtr` komento näytti lipun sekä salasanan.

![kuva1](/h3/kuvat/kuva2.png)

Seuraavaksi tehtävänä oli obfuskoida passtr.c niin, ettei salasana näkyisi suoraan binääristä. Koska C-kieli on minulle täysin vieras, käytin tekoälyä ja pyysin yksinkertaista obfuskointitapaa olemassa olevalle ohjelmalle.

ChatGPT loi seuraavan koodin: 

![kuva1](/h3/kuvat/kuva3.png)

Koodi kysyy salasanaa, yhdistää pilkotut osat oikeasta salasanasta, vertaa käyttäjän syötettä siihen ja tulostaa lipun, jos salasana on oikein.

seuraavaksi käänsin uuden binäärin.

`gcc -O2 -o passtr_obf passtr_obf.c`

Tämä loi passtr_obf.c ja komennolla strings passtr_obf ei näy enään salasanaa:

![kuva1](/h3/kuvat/kuva4.png)

## C) packed

Aloitin komennoilla 
`cd challenges`

`cd packd` 

`strings packd`

Tarkistelin tulostusta ja huomasin seuraavan: 

![kuva1](/h3/kuvat/kuva5.png)

Eli kertoo että packd on pakattu upx executable packeriä käyttäen. Tämän jälkeen katsoin youtubesta videon miten näitä puretaan ja se olikin yllättävän helppoa ainakin tässä tilanteessa.

Aloitin lataamalla upx:

`sudo apt-get upx`

Tämän jälkeen katsoin manuaalia `man upx` ja huomasin että sieltä pystyy dekompressoida eli purkaa pakkauksen komennolla: 

`upx -d packd`

![kuva1](/h3/kuvat/kuva6.png)
![kuva1](/h3/kuvat/kuva7.png)

Tämä purki packd ja sain salasanan sekä flagin: 

![kuva1](/h3/kuvat/kuva8.png)



### Referenssit

Karvinen: https://terokarvinen.com/sovellusten-hakkerointi/

Chatgpt5mini: https://chatgpt.com/

Unpacking UPX binaries: https://www.youtube.com/watch?v=0jVikfySiII
